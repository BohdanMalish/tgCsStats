# üîß –í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è Steam OAuth - –ü—ñ–¥—Å—É–º–æ–∫

## ‚úÖ –©–æ –±—É–ª–æ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–æ:

### 1. **–•–∞—Ä–¥–∫–æ–¥–æ–≤–∞–Ω—ñ –∑–Ω–∞—á–µ–Ω–Ω—è** 
- ‚ùå –ë—É–ª–æ: `api_key="YOUR_STEAM_API_KEY"`
- ‚úÖ –°—Ç–∞–ª–æ: `api_key=self.steam_api_key`

### 2. **–í–µ–±-—Å–µ—Ä–≤–µ—Ä –Ω–µ –∑–∞–ø—É—Å–∫–∞–≤—Å—è**
- ‚ùå –ë—É–ª–æ: –¢—ñ–ª—å–∫–∏ —Å—Ç–≤–æ—Ä—é–≤–∞–≤—Å—è, –∞–ª–µ –Ω–µ –∑–∞–ø—É—Å–∫–∞–≤—Å—è
- ‚úÖ –°—Ç–∞–ª–æ: –ó–∞–ø—É—Å–∫–∞—î—Ç—å—Å—è –≤ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–º—É —Ä–µ–∂–∏–º—ñ —Ä–∞–∑–æ–º –∑ –±–æ—Ç–æ–º

### 3. **–í—ñ–¥—Å—É—Ç–Ω—è –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è –¥–æ–º–µ–Ω—É**
- ‚ùå –ë—É–ª–æ: `app_domain="your-app.railway.app"`
- ‚úÖ –°—Ç–∞–ª–æ: `app_domain=self.app_domain` –∑ –∑–º—ñ–Ω–Ω–æ—ó –æ—Ç–æ—á–µ–Ω–Ω—è

### 4. **–ü—Ä–æ–±–ª–µ–º–∏ –∑ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ñ—Å—Ç—é**
- ‚ùå –ë—É–ª–æ: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∏–π –∑–∞–ø—É—Å–∫ –¥–≤–æ—Ö –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∏—Ö –∑–∞–≤–¥–∞–Ω—å
- ‚úÖ –°—Ç–∞–ª–æ: `asyncio.gather()` –¥–ª—è –ø–∞—Ä–∞–ª–µ–ª—å–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫—É

## üìÅ –ó–º—ñ–Ω–µ–Ω—ñ —Ñ–∞–π–ª–∏:

### `main.py`
- ‚úÖ –î–æ–¥–∞–Ω–æ `APP_DOMAIN` —Ç–∞ `PORT` –∑–º—ñ–Ω–Ω—ñ
- ‚úÖ –û–Ω–æ–≤–ª–µ–Ω–æ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä `BotHandlers`
- ‚úÖ –í–∏–ø—Ä–∞–≤–ª–µ–Ω–æ –∑–∞–ø—É—Å–∫ –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞
- ‚úÖ –î–æ–¥–∞–Ω–æ –¥—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫—É –∑–º—ñ–Ω–Ω–∏—Ö

### `src/handlers/bot_handlers.py`
- ‚úÖ –û–Ω–æ–≤–ª–µ–Ω–æ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –¥–ª—è –ø—Ä–∏–π–Ω—è—Ç—Ç—è `app_domain` —Ç–∞ `steam_api_key`
- ‚úÖ –í–∏–ø—Ä–∞–≤–ª–µ–Ω–æ `steam_login_command` –¥–ª—è –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —Ä–µ–∞–ª—å–Ω–∏—Ö –∑–Ω–∞—á–µ–Ω—å

### `src/web_server.py`
- ‚úÖ –û–Ω–æ–≤–ª–µ–Ω–æ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –¥–ª—è –ø—Ä–∏–π–Ω—è—Ç—Ç—è `steam_api_key` —Ç–∞ `app_domain`
- ‚úÖ –í–∏–ø—Ä–∞–≤–ª–µ–Ω–æ `handle_steam_callback` –¥–ª—è –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —Ä–µ–∞–ª—å–Ω–∏—Ö –∑–Ω–∞—á–µ–Ω—å

### `docker-compose.yml`
- ‚úÖ –î–æ–¥–∞–Ω–æ –ø–æ—Ä—Ç 3000 –¥–ª—è –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞
- ‚úÖ –î–æ–¥–∞–Ω–æ –∑–º—ñ–Ω–Ω—ñ `APP_DOMAIN` —Ç–∞ `PORT`

### `railway.json`
- ‚úÖ –î–æ–¥–∞–Ω–æ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –ø–æ—Ä—Ç—É –¥–ª—è Railway

## üöÄ –Ø–∫ –∑–∞–ø—É—Å—Ç–∏—Ç–∏:

### –î–ª—è Railway:
1. –í—Å—Ç–∞–Ω–æ–≤–∏ –∑–º—ñ–Ω–Ω—É `APP_DOMAIN` –∑ —Ç–≤–æ—ó–º Railway –¥–æ–º–µ–Ω–æ–º
2. Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫
3. –ü–µ—Ä–µ–≤—ñ—Ä –ª–æ–≥–∏: `railway logs`

**‚ÑπÔ∏è –ü—Ä–∏–º—ñ—Ç–∫–∞:** `STEAM_API_KEY` –≤–∂–µ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ –≤ –∫–æ–¥—ñ (`main.py`), —Ç–æ–º—É –Ω–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ –¥–æ–¥–∞–≤–∞—Ç–∏ –π–æ–≥–æ —è–∫ –∑–º—ñ–Ω–Ω—É –æ—Ç–æ—á–µ–Ω–Ω—è.

### –î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è:
```bash
# –í—Å—Ç–∞–Ω–æ–≤–∏ –∑–º—ñ–Ω–Ω—ñ –æ—Ç–æ—á–µ–Ω–Ω—è
export TELEGRAM_BOT_TOKEN="your_token"
export APP_DOMAIN="localhost:3000"

# –ó–∞–ø—É—Å—Ç–∏ —Ç–µ—Å—Ç
./test_steam_oauth.sh
```

## üîç –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Ä–æ–±–æ—Ç–∏:

1. **–î—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–∏ –∑–∞–ø—É—Å–∫—É:**
```
üîç –î—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –∑–º—ñ–Ω–Ω–∏—Ö –æ—Ç–æ—á–µ–Ω–Ω—è:
   TELEGRAM_BOT_TOKEN: ‚úÖ –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
   STEAM_API_KEY: ‚úÖ –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ –≤ –∫–æ–¥—ñ
   APP_DOMAIN: your-app.railway.app
   PORT: 3000
   üåê –í–µ–±-—Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω–æ –Ω–∞ –ø–æ—Ä—Ç—É 3000
```

2. **–¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞:**
```
https://your-app.railway.app/
```
–ü–æ–≤–∏–Ω–Ω–æ –ø–æ–∫–∞–∑–∞—Ç–∏: "CS2 Stats Bot - Steam OAuth Callback Server"

3. **–¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è Steam OAuth:**
- –í—ñ–¥–ø—Ä–∞–≤ `/steam_login` –±–æ—Ç—É
- –ù–∞—Ç–∏—Å–Ω–∏ –∫–Ω–æ–ø–∫—É "üîê –£–≤—ñ–π—Ç–∏ —á–µ—Ä–µ–∑ Steam"
- –ê–≤—Ç–æ—Ä–∏–∑—É–π—Å—è –≤ Steam
- –ü–µ—Ä–µ–≤—ñ—Ä callback URL

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç:

–¢–µ–ø–µ—Ä Steam OAuth –ø–æ–≤–Ω—ñ—Å—Ç—é —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–∏–π:
- ‚úÖ –ë–µ–∑–ø–µ—á–Ω–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è —á–µ—Ä–µ–∑ Steam
- ‚úÖ –î–æ—Å—Ç—É–ø –¥–æ –ø—Ä–∏–≤–∞—Ç–Ω–æ—ó —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è Steam ID
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–∞ –æ–±—Ä–æ–±–∫–∞ callback
- ‚úÖ –ö—Ä–∞—Å–∏–≤–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞ –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è:

- [STEAM_OAUTH_SETUP.md](STEAM_OAUTH_SETUP.md) - –¥–µ—Ç–∞–ª—å–Ω—ñ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è
- [RAILWAY_DEPLOY.md](RAILWAY_DEPLOY.md) - —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó –¥–µ–ø–ª–æ—é –Ω–∞ Railway
